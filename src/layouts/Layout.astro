---
import '../../src/styles/globals.css';
import '@fontsource/inter/400.css';
import '@fontsource/inter/600.css';
import '@fontsource/crimson-pro/400.css';
import '@fontsource/crimson-pro/600.css';
import '@fontsource/crimson-pro/700.css';
import interFont400 from '@fontsource/inter/files/inter-latin-400-normal.woff2?url';
import interFont600 from '@fontsource/inter/files/inter-latin-600-normal.woff2?url';
import crimsonFont400 from '@fontsource/crimson-pro/files/crimson-pro-latin-400-normal.woff2?url';
import crimsonFont700 from '@fontsource/crimson-pro/files/crimson-pro-latin-700-normal.woff2?url';

import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
    title: string;
    description?: string;
    image?: string;
    imageAlt?: string;
    article?: boolean;
    publishedTime?: string;
    author?: string;
}

const {
    title,
    description = "Transform complex academic research into accessible, practical wisdom for everyday people and counselors. Where Research Blooms into Wisdom.",
    image = "/og-default.svg",
    imageAlt = "Florecer Mind - Where Research Blooms into Wisdom",
    article = false,
    publishedTime,
    author
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const imageURL = new URL(image, Astro.site);
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>{title}</title>
        <meta name="description" content={description} />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />

        <!-- Canonical URL -->
        <link rel="canonical" href={canonicalURL} />

        <!-- RSS Feed -->
        <link rel="alternate" type="application/rss+xml" title="Florecer Mind RSS Feed" href="/rss.xml" />

        <!-- Open Graph / Social Media -->
        <meta property="og:type" content={article ? "article" : "website"} />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:site_name" content="Florecer Mind" />
        <meta property="og:url" content={canonicalURL} />
        <meta property="og:image" content={imageURL} />
        <meta property="og:image:alt" content={imageAlt} />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="630" />
        {article && publishedTime && <meta property="article:published_time" content={publishedTime} />}
        {article && author && <meta property="article:author" content={author} />}

        <!-- Twitter -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content={title} />
        <meta name="twitter:description" content={description} />
        <meta name="twitter:image" content={imageURL} />
        <meta name="twitter:image:alt" content={imageAlt} />

        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link rel="preload" as="font" type="font/woff2" href={interFont400} crossorigin />
        <link rel="preload" as="font" type="font/woff2" href={interFont600} crossorigin />
        <link rel="preload" as="font" type="font/woff2" href={crimsonFont400} crossorigin />
        <link rel="preload" as="font" type="font/woff2" href={crimsonFont700} crossorigin />
    </head>
    <body class="antialiased text-neutral-900 bg-[#FAFAF9]" data-theme="florecer">
        <div class="flex flex-col min-h-screen px-6 sm:px-12">
            <div class="flex flex-col w-full max-w-5xl mx-auto grow">
                <Header />
                <main class="grow"><slot /></main>
                <Footer />
            </div>
        </div>
    </body>
</html>
